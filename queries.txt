SELECT users.username, COUNT(posts.username)  FROM users   INNER JOIN posts ON users.username = posts.username GROUP BY posts.username

SELECT users.username, COUNT(notes.username) FROM users INNER JOIN notes ON users.username = notes.username WHERE notes.type="reblogged" GROUP BY users.username

SELECT posts.postid FROM posts INNER JOIN notes ON notes.source = posts.username WHERE notes.type="reblogged"




SELECT original.username, reblogs.count, total.count FROM posts original INNER JOIN (select username, count(username) as count from notes where type = "reblog" group by username) reblogs ON original.username = reblogs.username INNER JOIN (select username, count(username) as count from posts group by username) total ON original.username = total.username

This should return usernames, associated with the number of original posts and reposts



select username, count(username) as count from notes where type = "reblog" group by username order by username

this should list users, to see if we have duplicates



SELECT postType, count(postType) + noteCount AS count FROM posts GROUP BY postType ORDER BY count

This should return a list of post types, and their associated cumulative notecount and count





SELECT DISTINCT original.username, reblogs.count, total.count + reblogs.count AS total FROM posts original INNER JOIN (select username, count(username) as count from notes where type = "reblog" group by username) reblogs ON original.username = reblogs.username INNER JOIN (select username, count(username) as count from posts group by username) total ON original.username = total.username


This one should give us username, reblog count, and totaly post count



#the following detector
SELECT DISTINCT original.username AS source, reblogs.count AS reblogs, likes.count AS likes.count, likes.destination AS recipient FROM notes original INNER JOIN (SELECT DISTINCT notes.username AS source, COUNT(*) AS count, posts.username AS destination FROM notes INNER JOIN posts ON notes.postID = posts.postID WHERE notes.type="reblog" GROUP BY source, destination) reblogs ON original.source = reblogs.source INNER JOIN (SELECT DISTINCT notes.username AS source, count(*) AS count, posts.username AS destination FROM notes INNER JOIN posts ON notes.postID = posts.postID WHERE notes.type="like" GROUP BY source, destination) likes ON original.source = likes.source WHERE likes.destination = reblogs.destination
